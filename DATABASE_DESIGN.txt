# Database Design - Alzheimer's Camera System

## Workflow & Relationships

1. UPLOAD PHASE
   ├── Raspberry Pi uploads audio → audio_chunks table
   └── Raspberry Pi uploads images → images table

2. CONVERSATION DETECTION PHASE
   └── Process audio_chunks → detect conversations → conversations table

3. TRANSCRIPTION PHASE
   └── Process conversations → speech-to-text → transcriptions table

4. FACE RECOGNITION PHASE
   ├── Process images → detect faces → face_detections table
   └── Match faces → people table

5. MEMORY CREATION PHASE
   └── Combine all data → create memories → memories table


## Table Relationships

audio_chunks (1) ──→ (many) images
    │                     │
    │                     └──→ (many) face_detections ──→ (1) people
    │
    └──→ (many) conversations
              │
              └──→ (many) transcriptions


## Example Data Flow

### Step 1: Upload
Audio: audio_2025-11-08+01-05.wav (01:00 - 01:05)
Images: pic_2025-11-08+01-00.jpg, pic_2025-11-08+01-01.jpg, ...

### Step 2: Link Images to Audio
Each image gets linked to its audio_chunk based on timestamp

### Step 3: Detect Conversation
Audio chunk analyzed → conversation detected (01:02 - 01:04)

### Step 4: Transcribe
Conversation transcribed → "Hi Dad, how are you feeling today?"

### Step 5: Face Recognition
Images processed → Face detected → Matched to "Father" in people table

### Step 6: Create Memory
Memory created:
- Title: "Conversation with Father"
- Summary: "You talked to your father about his health"
- Time: 01:02 - 01:04
- People: [Father]
- Images: [pic_2025-11-08+01-02.jpg, pic_2025-11-08+01-03.jpg]


## Key Benefits

✅ Track which images belong to which audio chunk
✅ Know which conversations happened when
✅ Store transcriptions linked to conversations
✅ Identify people in images
✅ Create searchable memories
✅ Query: "Show me all conversations with Father"
✅ Query: "What did I talk about at 1pm yesterday?"
